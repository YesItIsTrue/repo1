"cm.ui.pagination".namespace();cm.ui.pagination.NumberPaginatorFooter=Class.create(cm.ui.Control,{ContinueEvent:null,ContinueConfirmEvent:null,BackEvent:null,BackConfirmEvent:null,initialize:function($super,b,a){$super(b,a);this.ContinueEvent=new cm.event();this.BackEvent=new cm.event()},initializeData:function($super){$super();this._co=this.GetConfigOptions()},initializeUIElements:function(){this.AddClassName("cmBtnContainer");this._btnContinue=new $$BTN("btnContinue",{text:"Continue"});this.AddChild(this._btnContinue);this._btnContinue.AddClassName("cmGoButton cmFloatRight");this._btnContinue.Hide();this._btnBack=new $$BTN("btnBack",{text:"Back"});this._btnBack.AddClassName("cmBackButton");this.AddChild(this._btnBack);this._btnBack.Hide()},wireEvents:function(){this._btnContinue.ClickEvent.subscribe(this.onContinueClicked,this);this._btnBack.ClickEvent.subscribe(this.onBackClicked,this)},SetContinueButton:function(a){if(a){this._btnContinue.Show()}else{this._btnContinue.Hide()}},SetBackButton:function(a){if(a){this._btnBack.Show()}else{this._btnBack.Hide()}},DisableWithMessage:function($super,a){this._backDisabled=true;this._backDisabledMessage='"Back" button has been disabled.';this._continueDisabled=true;this._continueDisabledMessage='"Continue" button has been disabled.';if(!$$CM.isNull(a)){if(!$$CM.isNull(a.message)){this._backDisabledMessage=a.message;this._continueDisabledMessage=a.message}if(!$$CM.isNull(a.backDisabledMessage)){this._backDisabledMessage=a.backDisabledMessage}if(!$$CM.isNull(a.continueDisabledMessage)){this._continueDisabledMessage=a.continueDisabledMessage}}},SetEnabled:function($super,a){$super(a);if(a){this._backDisabled=false;this._backDisabledMessage=null;this._continueDisabled=false;this._continueDisabledMessage=null}},Bind:function(a){if(!$$CM.isNull(a)){if(a.ContinueEnabled==true){if(!$$CM.isEmpty(a.ContinueLabel)){this._btnContinue.UpdateInnerHtml(a.ContinueLabel)}this._btnContinue.Show()}else{this._btnContinue.Hide()}if(a.BackEnabled==true){if(!$$CM.isEmpty(a.BackLabel)){this._btnBack.UpdateInnerHtml(a.BackLabel)}this._btnBack.Show()}else{this._btnBack.Hide()}}},onContinueClicked:function(b,a){if(this._continueDisabled){$$CMD.Alert({title:"Alert",header:null,message:this._continueDisabledMessage})}else{this.ContinueEvent.fire()}},onBackClicked:function(b,a){if(this._backDisabled){$$CMD.Alert({title:"Alert",header:null,message:this._backDisabledMessage})}else{this.BackEvent.fire()}}});"cm.ui.pagination".namespace();cm.ui.pagination.PaginatorConfigOptions=Class.create(cm.ConfigOptions,{toggleTabIndex:false});cm.ui.pagination.Paginator=Class.create(cm.ui.Control,{_pageArray:null,_currentPage:null,_header:null,_body:null,_footer:null,_historyManager:null,ValidateEvent:null,configureDefaultOptions:function(){return new cm.ui.pagination.PaginatorConfigOptions()},preInitialize:function(){this._pageArray=$A();this._historyManager=new cm.ui.navigation.HistoryManager("hm")},initializeData:function($super){$super();this._co=this.GetConfigOptions()},initializeUIElements:function(){this._body=$$P.div("divBody");this.AddChild(this._body)},createEvents:function(){this.PageShownEvent=new cm.event()},wireEvents:function(){this._historyManager.NavigateEvent.subscribe(this.onHistoryNavigate,this)},onHistoryNavigate:function(f,a){var e=a.currentHash;var c=null;var b=true;var d=this.GetPageArray().findAll(function(g){return g.Skippable!=true&&g.Visible==true},this);if(!$$CM.isEmpty(e)){c=d.find(function(g){return g.ID()==e})}if(!$$CM.isNull(c)){this.TogglePage(c.ID(),b)}},GetHistoryManager:function(){return this._historyManager},AddHeader:function(a){if(!$$CM.isNull(this._header)){this.RemoveChildControl(this._header)}this._header=a;this.AddChild(this._header,$$E(this._body))},HideHeader:function(){if(!$$CM.isNull(this._header)){this._header.Hide()}},ShowHeader:function(){if(!$$CM.isNull(this._header)){this._header.Bind(this._pageArray);this._header.Show()}},Reset:function(){this._historyManager.Reset();this.ResetPageArray();this._body.DestroyChildControls(true);this._currentPage=null;if(!$$CM.isNull(this._header)){this._header.Bind(this._pageArray)}},ResetPageArray:function(){if($$CM.isArray(this._pageArray)){this._pageArray.each(function(a){a.DestroyChildControls(true);a.Destroy()},this)}this._pageArray=$A()},RemovePage:function(b){if(!$$CM.isEmpty(b)){var a=$A();this._pageArray.each(function(c){if(c.ID()!=b){a.push(c)}},this);this._pageArray=a;this._header.Bind(this._pageArray)}},AddPage:function(a){if(!$$CM.isNull(a)){if($$CM.isFunction(this.onPageSkipped)){a.SkipEvent.subscribe(this.onPageSkipped,this)}this._pageArray.push(a);this._header.Bind(this._pageArray)}},TogglePage:function(c,b){if(!$$CM.isNull(c)){var a=this._currentPage;this.ShowPage(c,b);a.AfterUnLoadEvent.fire(a)}},ShowPage:function(c,a){if(!$$CM.isNull(c)&&($$CM.isNull(this._currentPage)||(!$$CM.isNull(this._currentPage)&&this._currentPage.ID()!=c))){var b=this._pageArray.find(function(d){return d.ID()==c});if(!$$CM.isNull(b)){b.BeforeLoadEvent.fire(b);if(Prototype.Browser.WebKit){this.Hide()}this._body.ClearChildControls(false);this._body.AddChild(b);this._currentPage=b;this.updateHeader();this.updateFooter();this.ToggleNavigation(c,a);b.AfterLoadEvent.fire(b);this.PageShownEvent.fire(this,c);if(Prototype.Browser.WebKit){this.Show()}}}else{this.updateHeader()}if(this._co.toggleTabIndex==true){this.ToggleTabIndex()}},ToggleNavigation:function(a,b){if(b==true){this._historyManager.ToggleHash(a)}else{this._historyManager.Load(a)}},GetCurrentPage:function(){return this._currentPage},GetPageArray:function(){return this._pageArray},AddFooter:function(a){if(!$$CM.isNull(this._footer)){this.RemoveChildControl(this._footer)}this._footer=a;this.AddChild(this._footer)},HideFooter:function(){if(!$$CM.isNull(this._footer)){this._footer.Hide()}},ShowFooter:function(){if(!$$CM.isNull(this._footer)){this._footer.Show()}},EnableFooter:function(a,b){if(!$$CM.isNull(this._footer)){if(a!=true&&!$$CM.isEmpty(b)){this._footer.DisableWithMessage({message:b,saveForLaterDisabledMessage:b,backDisabledMessage:b,continueDisabledMessage:b})}else{this._footer.SetEnabled(a)}}},ToggleFooterButtons:function(b,a){if(!$$CM.isNull(this._footer)){this._footer.SetContinueButton(b);this._footer.SetBackButton(a)}},updateHeader:function(){},updateFooter:function(){},onEnterPressed:function(){},ToggleTabIndex:function(){var a=1;jQuery("#"+this.ID()).find("input,select,a,button").each(function(){var b=jQuery(this);b.attr("tabindex",a++)})}});"cm.ui.pagination".namespace();cm.ui.pagination.ApplicationNumberPaginatorFooter=Class.create(cm.ui.pagination.NumberPaginatorFooter,{SaveForLaterEvent:null,initialize:function($super,b,a){$super(b,a);this.SaveForLaterEvent=new cm.event()},initializeUIElements:function($super){$super();this._divSaveForLater=$$P.div("divSaveForLater");this._divSaveForLater.AddClassName("cmSaveForLater cmExpand mt10px mb0px w510px");this._btnSaveForLater=new $$BTN("btnSaveForLater",{text:"Save for Later"});this._btnSaveForLater.AddClassName("cmFloatLeft mr5px");this._divSaveForLater.UpdateInnerHtml("Save your work and complete this form at a later time");this._divSaveForLater.AddChild(this._btnSaveForLater);this._divSaveForLater.Hide();this.AddChild(this._divSaveForLater)},wireEvents:function($super){$super();this._btnSaveForLater.ClickEvent.subscribe(this.onSaveForLaterClicked,this)},DisableWithMessage:function($super,a){$super(a);this._saveForLaterDisabled=true;this._saveForLaterDisabledMessage='"Safe For Later" button has been disabled.';if(!$$CM.isNull(a)){if(!$$CM.isNull(a.message)){this._saveForLaterDisabledMessage=a.message}if(!$$CM.isNull(a.saveForLaterDisabledMesag)){this._saveForLaterDisabledMessage=a.saveForLaterDisabledMesag}}},SetEnabled:function($super,a){$super(a);if(a){this._saveForLaterDisabled=false;this._saveForLaterDisabledMessage=null}},Bind:function($super,a){if(!$$CM.isNull(a)){$super(a);if(a.SaveForLaterEnabled==true){if(!$$CM.isEmpty(a.SaveForLaterLabel)){this._btnSaveForLater.UpdateInnerHtml(a.SaveForLaterLabel)}this._divSaveForLater.Show()}else{this._divSaveForLater.Hide()}}},onSaveForLaterClicked:function(b,a){if(this._saveForLaterDisabled){$$CMD.Alert({title:"Alert",header:null,message:this._saveForLaterDisabledMessage})}else{this.SaveForLaterEvent.fire()}}});"cm.ui.pagination".namespace();cm.ui.pagination.NumberPaginator=Class.create(cm.ui.pagination.Paginator,{preInitialize:function($super){$super()},_forward:true,_isHistoryNavigation:false,initializeUIElements:function($super){$super();var b=new cm.ui.pagination.NumberPaginatorHeader("divHeader");this.AddHeader(b);var a=new cm.ui.pagination.NumberPaginatorFooter("divFooter");this.AddFooter(a)},wireEvents:function(){this.GetHistoryManager().NavigateEvent.subscribe(this.onHistoryNavigate,this)},onHistoryNavigate:function(i,a){var b=null;var c=a.currentHash;var d=0;var e=null;var f=a.oldHash;var g=0;var h=this.GetPageArray().findAll(function(j){return j.Skippable!=true},this);if(!$$CM.isEmpty(c)){b=h.find(function(j){return j.ID()==c});if(!$$CM.isNull(b)){d=b.Index}}if(!$$CM.isEmpty(f)){e=h.find(function(j){return j.ID()==f});if(!$$CM.isNull(e)){g=e.Index}}if(!$$CM.isNull(b)){this._isHistoryNavigation=true;if(d>0&&g>0){if(d<g){this.onBackClicked()}else{if(d>g){this.onContinueClicked()}}}else{this.TogglePage(b.ID(),this._isHistoryNavigation);this._isHistoryNavigation=false}}},getPreviousPage:function(){var a=this.GetCurrentPage();if(!$$CM.isNull(a)){var c=this.GetPageArray().findAll(function(d){return d.Skippable!=true});var b=c.indexOf(a)-1;if(b>=0){return c[b]}else{if($$CM.isArray(c)&&c.length>0){return c[0]}}}return null},getNextPage:function(){var a=this.GetCurrentPage();if(!$$CM.isNull(a)){var c=this.GetPageArray().findAll(function(d){return d.Skippable!=true});var b=c.indexOf(a)+1;if(b<c.length){return c[b]}else{if($$CM.isArray(c)&&c.length>0){return c[c.length-1]}}}return null},AddFooter:function($super,a){if(!$$CM.isNull(this._footer)){if(!$$CM.isNull(this._footer.ContinueEvent)){this._footer.ContinueEvent.unsubscribeAll()}if(!$$CM.isNull(this._footer.BackEvent)){this._footer.BackEvent.unsubscribeAll()}}$super(a);if(!$$CM.isNull(this._footer.ContinueEvent)){this._footer.ContinueEvent.subscribe(this.onContinueClicked,this)}if(!$$CM.isNull(this._footer.BackEvent)){this._footer.BackEvent.subscribe(this.onBackClicked,this)}},SetContinueButton:function(a){this._footer.SetContinueButton(a)},IsForward:function(){return this._forward},onContinueClicked:function(c,a){this._forward=true;var b=this.GetCurrentPage();if(!$$CM.isNull(b)&&b.IsValid(true)==true){this.EnableFooter(false);if(b.BeforeContinueEvent.HasSubscriptions()==true){b.BeforeContinueEvent.fire(b,{scope:this,callback:this.onContinueClicked_continue})}else{this.onContinueClicked_continue()}}},onContinueClicked_continue:function(){var a=this.GetCurrentPage();if(!$$CM.isNull(a)){a.BeforeUnLoadEvent.fire(a);var b=this.getNextPage();if(!$$CM.isNull(b)){this.TogglePage(b.ID(),this._isHistoryNavigation);this._isHistoryNavigation=false}else{}}this.EnableFooter(true)},onBackClicked:function(c,a){this._forward=false;var b=this.GetCurrentPage();if(!$$CM.isNull(b)){this.EnableFooter(false);if(b.BeforeBackEvent.HasSubscriptions()==true){b.BeforeBackEvent.fire(b,{scope:this,callback:this.onBackClicked_continue})}else{this.onBackClicked_continue()}}},onBackClicked_continue:function(){var a=this.GetCurrentPage();if(!$$CM.isNull(a)){a.BeforeUnLoadEvent.fire(a);var b=this.getPreviousPage();if(!$$CM.isNull(b)){this.TogglePage(b.ID(),this._isHistoryNavigation);this._isHistoryNavigation=false}}this.EnableFooter(true)},updateHeader:function(){this._header.SetCurrentPage(this.GetCurrentPage())},updateFooter:function(){this._footer.Bind(this.GetCurrentPage())},onEnterPressed:function(){this.onContinueClicked()}});"cm.ui.pagination".namespace();cm.ui.pagination.ApplicationNumberPaginator=Class.create(cm.ui.pagination.NumberPaginator,{initializeUIElements:function($super){$super();var a=new cm.ui.pagination.ApplicationNumberPaginatorFooter("divFooter");this.AddFooter(a)},AddFooter:function($super,a){if(!$$CM.isNull(this._footer)){if(!$$CM.isNull(this._footer.SaveForLaterEvent)){this._footer.SaveForLaterEvent.unsubscribeAll()}}$super(a);if(!$$CM.isNull(this._footer.SaveForLaterEvent)){this._footer.SaveForLaterEvent.subscribe(this.onSaveForLaterClicked,this)}},onSaveForLaterClicked:function(c,a){var b=this.GetCurrentPage();if(!$$CM.isNull(b)){var f=b.Validate(false);if(f.IsValid()){b.SaveForLaterEvent.fire(b)}else{var d=this._co.saveForLaterMessage;if(!$$CM.isEmpty(d)){var g=new cm.validation.ValidationResult("",null);g.AddError(d);f.AppendResult(g)}b.Validator.ShowErrors(f)}}}});"cm.ui.pagination".namespace();cm.ui.pagination.NumberPaginatorHeader=Class.create(cm.ui.Control,{_divArray:null,initialize:function($super,b,a){$super(b,a);this._divArray=$A()},Bind:function(b){this._divArray=$A();this.ClearChildControls();this.RemoveAttribute("class");if($$CM.isArray(b)){var c=b.findAll(function(d){return d.Visible==true});this.AddClassName("cmPagination cmPaginate"+c.length.toString());var a=1;c.each(function(e){var d=$$P.div("div_"+e.ID());this.AddChild(d);d.AddClassName("cmNumber"+a);this._divArray.push(d);a++},this)}},SetCurrentPage:function(a){this._divArray.each(function(b){if(b.ID()=="div_"+a.ID()){b.AddClassName("cmCurrent")}else{b.RemoveClassName("cmCurrent")}})}});"cm.ui.pagination".namespace();cm.ui.pagination.PaginatorPageConfigOptions=Class.create(cm.ConfigOptions,{index:0,visible:true,continueEnabled:true,continueLabel:"Continue",backEnabled:false,backLabel:"Back",saveForLaterEnabled:false,saveForLaterLabel:"Save for Later",skippable:false});cm.ui.pagination.PaginatorPage=Class.create(cm.ui.FragmentControl,{Index:0,BeforeLoadEvent:null,AfterLoadEvent:null,BeforeBackEvent:null,BeforeContinueEvent:null,BeforeUnLoadEvent:null,AfterUnLoadEvent:null,SaveForLaterEvent:null,Visible:null,Skippable:null,ContinueEnabled:null,ContinueLabel:null,BackEnabled:null,BackLabel:null,SaveForLaterLabel:null,SaveForLaterEnabled:null,configureDefaultOptions:function(){return new cm.ui.pagination.PaginatorPageConfigOptions()},createEvents:function(){this.BeforeLoadEvent=new cm.event();this.AfterLoadEvent=new cm.event();this.BeforeBackEvent=new cm.event();this.BeforeContinueEvent=new cm.event();this.BeforeUnLoadEvent=new cm.event();this.AfterUnLoadEvent=new cm.event();this.SaveForLaterEvent=new cm.event()},postInitialize:function(){var a=this.GetConfigOptions();this.Index=a.index;this.Visible=a.visible;this.ContinueEnabled=a.continueEnabled;this.ContinueLabel=a.continueLabel;this.BackEnabled=a.backEnabled;this.BackLabel=a.backLabel;this.Skippable=a.skippable;this.SaveForLaterEnabled=a.saveForLaterEnabled;this.SaveForLaterLabel=a.saveForLaterLabel},SetIndex:function(a){var b=this.GetConfigOptions();b.index=a;this.Index=b.index},SetSkippable:function(b){var a=this.GetConfigOptions();a.skippable=b;this.Skippable=a.skippable},SetVisible:function(b){var a=this.GetConfigOptions();a.visible=b;this.Visible=a.visible},SetApplicable:function(a){var b=(a!=true);var c=(a==true);this.SetSkippable(b);this.SetVisible(c)},SetBackButton:function(a,b){var c=this.GetConfigOptions();if(!$$CM.isNull(a)){c.backEnabled=a;this.BackEnabled=c.backEnabled}if(!$$CM.isEmpty(b)){c.backLabel=b;this.BackLabel=c.backLabel}},SetContinueButton:function(a,b){var c=this.GetConfigOptions();if(!$$CM.isNull(a)){c.continueEnabled=a;this.ContinueEnabled=c.continueEnabled}if(!$$CM.isEmpty(b)){c.continueLabel=b;this.ContinueLabel=c.continueLabel}},SetSaveForLaterButton:function(a,b){var c=this.GetConfigOptions();if(!$$CM.isNull(a)){c.saveForLaterEnabled=a;this.SaveForLaterEnabled=c.saveForLaterEnabled}if(!$$CM.isEmpty(b)){c.saveForLaterLabel=b;this.SaveForLaterLabel=c.saveForLaterLabel}},IsValid:function(a){return true},Destroy:function($super){this.DestroyEventSubscriptions()}});