<!doctype html public "-//ietf//dtd html//en">
<html>
    <head>
        <meta NAME="AUTHOR" CONTENT="Andrew Garver"/>
        <title>Home</title>
        <meta NAME='VERSION' CONTENT='1.0'/>
        <meta NAME='COPYRIGHT' CONTENT='Solsource'/>
        <meta NAME='CREATE_DATE' CONTENT="31/Aug/2017"/>
        <meta NAME='LAST_UPDATED' CONTENT="31/Aug/2017"/>   
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <!--WSS 
        {global-includes.i}.
        {external-dependencies.i}.
        {registration-ams.i}.
        {organization-includes.i}.
        -->
        
        <!--WSS
		PROCEDURE Output-Header:
		    {cookie-check-permissions.i "AMS-landing-R.r"}.
		END PROCEDURE.
         -->
    </head>
    <body class='ss-background'>
        <!--WSS
        /* 
	        OpenEdge was giving me crap about including registered-events.i twice in this file because it thought that this caused a variable in the .i to 
	        be defined twice. This was, in fact, not the case because the two includes were separated by distinct IF cases that could never both evaluate
	        to true. OpenEdge's compiler intelligence aside, wrapping the include in a procedure causes the variables inside the .i to be scoped to the 
	        procedure. This means that after the include is copied into the parent file, the variables will fall out of scope, allowing the next procedure
	        call to define the same variables wihtout conflict.
        */
        PROCEDURE IncludeComponent:
            {registered-events.i}.
        END PROCEDURE.
	    -->
	    
	    <!--WSS
	    DEFINE VARIABLE v-people-id AS INTEGER NO-UNDO.
	    
	    RUN VALUE(SEARCH("session-get-user-id.r")) (
		    get-cookie("c-session-token"),
		    OUTPUT v-people-id
		).
		-->
		  
		<!--WSS
        FIND gud_det WHERE gud_det.gud_people_ID = v-people-id AND gud_det.gud_grp_id = "RegisUser" NO-ERROR.
        IF AVAILABLE (gud_det) THEN DO:
        -->
        
            <!-- Registered Events -->
            <div>
                <!--WSS RUN IncludeComponent. -->
            </div>
            <br/><br/>
            
            <!-- Upcoming Events -->
            <div style='height:60%'>
                <!--WSS {upcoming-events.i}. -->
            </div>
            
        <!--WSS
        END.
		-->
    </body>
</html>